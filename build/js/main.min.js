/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./js/main.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./js/main.js":
/*!********************!*\
  !*** ./js/main.js ***!
  \********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _modules_modals_modal_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/modals/modal.js */ "./js/modules/modals/modal.js");
/* harmony import */ var _modules_accordion_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/accordion.js */ "./js/modules/accordion.js");
/* harmony import */ var _modules_data_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules/data.js */ "./js/modules/data.js");
/* harmony import */ var _modules_inputmask_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modules/inputmask.js */ "./js/modules/inputmask.js");









const hiddenText = _modules_data_js__WEBPACK_IMPORTED_MODULE_2__["aboutText"].querySelector('.about-text--hidden');
const mobileHiddenText = _modules_data_js__WEBPACK_IMPORTED_MODULE_2__["aboutText"].querySelector('.about-text__mobile-hidden');
const aboutOpenButtonText = _modules_data_js__WEBPACK_IMPORTED_MODULE_2__["aboutButton"].querySelector('.about__open');
const aboutCloseButtonText = _modules_data_js__WEBPACK_IMPORTED_MODULE_2__["aboutButton"].querySelector('.about__close');
const mainFormTel = _modules_data_js__WEBPACK_IMPORTED_MODULE_2__["mainForm"].querySelector('input[type="tel"]');

hiddenText.classList.add('visually-hidden');
_modules_data_js__WEBPACK_IMPORTED_MODULE_2__["aboutButton"].classList.toggle('visually-hidden');


if (_modules_data_js__WEBPACK_IMPORTED_MODULE_2__["MOBILEVIEWPORT"] > _modules_data_js__WEBPACK_IMPORTED_MODULE_2__["body"].clientWidth) {
  if (!mobileHiddenText.classList.contains('visually-hidden')) {
    mobileHiddenText.classList.add('visually-hidden');
  }
}

const mainFormTelHandler = (evt) => {
  evt.preventDefault();
  Object(_modules_inputmask_js__WEBPACK_IMPORTED_MODULE_3__["maskHandler"])(evt.target);
};

mainFormTel.addEventListener('input', mainFormTelHandler);


const callButtonHandler = (evt) => {
  evt.preventDefault();
  Object(_modules_modals_modal_js__WEBPACK_IMPORTED_MODULE_0__["showModal"])();
};

if (_modules_data_js__WEBPACK_IMPORTED_MODULE_2__["WIDEVIEWPORT"] <= _modules_data_js__WEBPACK_IMPORTED_MODULE_2__["body"].clientWidth) {
  _modules_data_js__WEBPACK_IMPORTED_MODULE_2__["callButton"].addEventListener('click', callButtonHandler);
}

_modules_data_js__WEBPACK_IMPORTED_MODULE_2__["mainForm"].addEventListener('submit', (evt)=>{
  evt.preventDefault();
  _modules_data_js__WEBPACK_IMPORTED_MODULE_2__["mainForm"].submit();
  _modules_data_js__WEBPACK_IMPORTED_MODULE_2__["mainForm"].reset();
});

_modules_data_js__WEBPACK_IMPORTED_MODULE_2__["aboutButton"].addEventListener('click', ()=> {
  hiddenText.classList.toggle('visually-hidden');
  aboutCloseButtonText.classList.toggle('visually-hidden');
  aboutOpenButtonText.classList.toggle('visually-hidden');
});


Object(_modules_accordion_js__WEBPACK_IMPORTED_MODULE_1__["makeAccordion"])();

window.addEventListener('resize', ()=> {
  const currentViewport = _modules_data_js__WEBPACK_IMPORTED_MODULE_2__["body"].clientWidth;
  if (_modules_data_js__WEBPACK_IMPORTED_MODULE_2__["WIDEVIEWPORT"] <= currentViewport) {
    _modules_data_js__WEBPACK_IMPORTED_MODULE_2__["callButton"].removeEventListener('click', callButtonHandler);
    _modules_data_js__WEBPACK_IMPORTED_MODULE_2__["callButton"].addEventListener('click', callButtonHandler);
  }
  if (_modules_data_js__WEBPACK_IMPORTED_MODULE_2__["MOBILEVIEWPORT"] > _modules_data_js__WEBPACK_IMPORTED_MODULE_2__["body"].clientWidth) {
    if (!mobileHiddenText.classList.contains('visually-hidden')) {
      mobileHiddenText.classList.add('visually-hidden');
    }
  } else {
    if (mobileHiddenText.classList.contains('visually-hidden')) {
      mobileHiddenText.classList.remove('visually-hidden');
    }
  }
  _modules_data_js__WEBPACK_IMPORTED_MODULE_2__["accordion"].removeEventListener('click', _modules_accordion_js__WEBPACK_IMPORTED_MODULE_1__["accordionHandler"]);
  Object(_modules_accordion_js__WEBPACK_IMPORTED_MODULE_1__["makeAccordion"])();

});


/***/ }),

/***/ "./js/modules/accordion.js":
/*!*********************************!*\
  !*** ./js/modules/accordion.js ***!
  \*********************************/
/*! exports provided: makeAccordion, accordionHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeAccordion", function() { return makeAccordion; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "accordionHandler", function() { return accordionHandler; });
/* harmony import */ var _data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./data */ "./js/modules/data.js");



const hideAccordionSection = () => {
  _data__WEBPACK_IMPORTED_MODULE_0__["accordionControls"].forEach((element) => {
    if (!element.classList.contains(_data__WEBPACK_IMPORTED_MODULE_0__["HIDESECTION"])) {
      element.classList.add(_data__WEBPACK_IMPORTED_MODULE_0__["HIDESECTION"]);
    }
  });
};

const accordionHandler = (evt)=>{

  const button = evt.target.closest('button');
  if (button) {
    _data__WEBPACK_IMPORTED_MODULE_0__["accordionControls"].forEach((element) => {
      if (element !== button && !element.classList.contains(_data__WEBPACK_IMPORTED_MODULE_0__["HIDESECTION"])) {
        element.classList.add(_data__WEBPACK_IMPORTED_MODULE_0__["HIDESECTION"]);
      }
    });
    button.classList.toggle(_data__WEBPACK_IMPORTED_MODULE_0__["HIDESECTION"]);
  }
};

const makeAccordion = () => {
  if (_data__WEBPACK_IMPORTED_MODULE_0__["body"].clientWidth < _data__WEBPACK_IMPORTED_MODULE_0__["MOBILEVIEWPORT"]) {
    hideAccordionSection();

    _data__WEBPACK_IMPORTED_MODULE_0__["accordion"].addEventListener('click', accordionHandler);
  }

};




/***/ }),

/***/ "./js/modules/data.js":
/*!****************************!*\
  !*** ./js/modules/data.js ***!
  \****************************/
/*! exports provided: body, header, callButton, modal, closeModalButton, modalArea, modalSubmitButton, checkbox, aboutText, REGION, modalForm, mainForm, mainSubmitButton, aboutButton, HIDESECTION, MOBILEVIEWPORT, WIDEVIEWPORT, accordionControls, accordion */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "body", function() { return body; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "header", function() { return header; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "callButton", function() { return callButton; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "modal", function() { return modal; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "closeModalButton", function() { return closeModalButton; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "modalArea", function() { return modalArea; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "modalSubmitButton", function() { return modalSubmitButton; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "checkbox", function() { return checkbox; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "aboutText", function() { return aboutText; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "REGION", function() { return REGION; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "modalForm", function() { return modalForm; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mainForm", function() { return mainForm; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mainSubmitButton", function() { return mainSubmitButton; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "aboutButton", function() { return aboutButton; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HIDESECTION", function() { return HIDESECTION; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MOBILEVIEWPORT", function() { return MOBILEVIEWPORT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WIDEVIEWPORT", function() { return WIDEVIEWPORT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "accordionControls", function() { return accordionControls; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "accordion", function() { return accordion; });
const REGION = '+7';
const HIDESECTION = 'accordion__control--hide-section';
const MOBILEVIEWPORT = '768';
const WIDEVIEWPORT = '1024';

const body = document.querySelector('body');
const header = body.querySelector('header');
const callButton = body.querySelector('.callback-button');
const modal = body.querySelector('.modal');
const closeModalButton = modal.querySelector('.modal__close-button');
const modalArea = modal.querySelector('.modal__feedback');
const modalForm = modal.querySelector('.modal__feedback-form');
const modalSubmitButton = modalForm.querySelector('.modal__feedback-submit');
const checkbox = modalForm.querySelector('input[type="checkbox"]');
const aboutText = document.querySelector('.about__text-container');
const mainForm = body.querySelector('.feedback__form');
const mainSubmitButton = mainForm.querySelector('.feedback-form__submit');
const about = body.querySelector('.about');
const aboutButton = about.querySelector('.about__button');
const accordionControls = body.querySelectorAll('.accordion__control');
const accordion = body.querySelector('.accordion');




/***/ }),

/***/ "./js/modules/inputmask.js":
/*!*********************************!*\
  !*** ./js/modules/inputmask.js ***!
  \*********************************/
/*! exports provided: maskHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "maskHandler", function() { return maskHandler; });
/* harmony import */ var _data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./data */ "./js/modules/data.js");


const fillNumber = (val) => {
  let swapValue = '';
  swapValue = val.replace(/\D/gm, '');
  swapValue = swapValue[0] !== '7' ? `${_data__WEBPACK_IMPORTED_MODULE_0__["REGION"]}${swapValue}` : `+${swapValue}`;
  swapValue = swapValue.replace(swapValue.substring(0, 2), (str)=> str + '(');
  if (swapValue.length >= 6) {
    swapValue = swapValue.replace(swapValue.substring(0, 6), (str) => str + ')');
  }
  if (swapValue.length >= 14) {
    swapValue = swapValue.substring(0, 14);
  }

  return swapValue;
};

let prev = '';

const maskHandler = (input) => {
  prev = input.value.length > prev.length ? input.value : prev;

  if (prev.length <= input.value.length) {
    input.value = fillNumber(input.value);
  }

  prev = input.value;
};




/***/ }),

/***/ "./js/modules/modals/modal.js":
/*!************************************!*\
  !*** ./js/modules/modals/modal.js ***!
  \************************************/
/*! exports provided: showModal, closeModal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "showModal", function() { return showModal; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "closeModal", function() { return closeModal; });
/* harmony import */ var _data_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data.js */ "./js/modules/data.js");
/* harmony import */ var _inputmask_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../inputmask.js */ "./js/modules/inputmask.js");



const inputName = _data_js__WEBPACK_IMPORTED_MODULE_0__["modal"].querySelector('input[name="name"]');
const header = _data_js__WEBPACK_IMPORTED_MODULE_0__["body"].querySelector('.header__container');

const modalFormTel = _data_js__WEBPACK_IMPORTED_MODULE_0__["modalForm"].querySelector('input[type="tel"]');

const modalFormTelHandler = (evt) => {
  evt.preventDefault();
  Object(_inputmask_js__WEBPACK_IMPORTED_MODULE_1__["maskHandler"])(evt.target);
};

modalFormTel.addEventListener('input', modalFormTelHandler);

const modalHandler = (evt) => {
  evt.stopPropagation();
  if (evt.target === _data_js__WEBPACK_IMPORTED_MODULE_0__["modal"] || evt.target === _data_js__WEBPACK_IMPORTED_MODULE_0__["closeModalButton"]) {
    closeModal();
    _data_js__WEBPACK_IMPORTED_MODULE_0__["modal"].removeEventListener('click', modalHandler);
    _data_js__WEBPACK_IMPORTED_MODULE_0__["modalForm"].removeEventListener('submit', modalSubmitHandler);
  }
};

const modalSubmitHandler = (evt) => {
  evt.preventDefault();
  _data_js__WEBPACK_IMPORTED_MODULE_0__["modalForm"].submit();
  closeModal();

};


const showModal = () => {
  inputName.focus();
  _data_js__WEBPACK_IMPORTED_MODULE_0__["modal"].classList.remove('visually-hidden');
  header.classList.add('wrapper--header-show-modal');
  _data_js__WEBPACK_IMPORTED_MODULE_0__["body"].style.overflow = 'hidden';
  _data_js__WEBPACK_IMPORTED_MODULE_0__["modal"].addEventListener('click', modalHandler);
  _data_js__WEBPACK_IMPORTED_MODULE_0__["modalForm"].addEventListener('submit', modalSubmitHandler);
};

const closeModal = () => {
  _data_js__WEBPACK_IMPORTED_MODULE_0__["modal"].classList.add('visually-hidden');
  _data_js__WEBPACK_IMPORTED_MODULE_0__["body"].style.overflow = 'initial';
  header.classList.remove('wrapper--header-show-modal');
  _data_js__WEBPACK_IMPORTED_MODULE_0__["modalForm"].reset();
  _data_js__WEBPACK_IMPORTED_MODULE_0__["modalForm"].removeEventListener('input', modalFormTelHandler);
  _data_js__WEBPACK_IMPORTED_MODULE_0__["modal"].removeEventListener('click', modalHandler);
  _data_js__WEBPACK_IMPORTED_MODULE_0__["modalForm"].removeEventListener('submit', modalSubmitHandler);
};




/***/ })

/******/ });
//# sourceMappingURL=main.min.js.map